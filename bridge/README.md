# bridge

*ВНИМАНИЕ! При некорректной конфигурации сетевых интерфейсов вы можете потерять управление сервером.*

Роль для создания linux bridge. Навеяно проектом https://github.com/adriagalin/ansible.network_interface

## Структура данных

```yaml
bridge_devices:

- dev: "br0" # Имя устройства
  bootproto: "none" # Протокол поднятия адреса
  address: "192.0.2.12/24" # IP-адрес (CIDR)
  peer: "192.0.2.1" # scope peer (применяется при prefix /32 - например, в Hetzner)
  onboot: "yes|no" # (default: yes) Поднимать ли интерфейс при загрузке (yes|no)
  stp: "on|off" # (default: off) Включать ли STP (on|off)
  delay: "1.0" # (default: 2.0) Время, в течение которого мост при поднятии слушает трафик без форвардинга
  ports: [ eth0, eth1 ] # Интерфейсы, которые должны быть включены в мост*
  routes: # Описание добавляемого маршрута (маршрутов)
    - dest: "CIDR"  # Адрес или сеть назначения (напр., default, 0.0.0.0/0, 192.0.2.0/24)
      gw: "192.0.2.1" # Шлюз, через который доступен этот адрес
      metric: "10" # Метрика для этого маршрута (при установке default сделать больше, чем существующая!)
```
* Если в мост не планируется включать интерфейсы физической машины, то оставьте список пустым (`[]`)

## Зависимости
нет

## Лицензия
BSD
